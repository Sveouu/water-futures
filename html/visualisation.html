<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Explore | Water Futures: East London</title>
  <link rel="stylesheet" href="./static/css/bootstrap.css">
  <link rel="stylesheet" href="./static/css/leaflet.css">
  <link rel="stylesheet" href="./static/css/main.css">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
<header class="container-fluid main-header hover-to-show">
    <a href="#" class="close">Ã—</a>
    <nav class="navbar navbar-expand">
      <a class="navbar-brand" href="index.html">
        <h1>
          <img src="./static/images/waterfutures_logo.png" width="230" class="align-bottom" alt="Water Futures: East London"/>
        </h1>
      </a>
      <ul class="navbar-nav">
          <li class="nav-item text-uppercase mb-3">
            <a href="visualisation.html">Explore<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item text-uppercase mb-3">
            <a href="index.html#about">About<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item text-uppercase mb-3">
            <a href="index.html#contact">Contact<span class="sr-only">(current)</span></a>
          </li>
      </ul>
    </nav>
  </header>
  <main id="visualisation-container" class="fullscreen-showable">
    <div id="map" class="fullscreen-map"></div>
    <div id="chart-area" class="offscreen-right half right">
        <p class="alert alert-light loading-indicator">
          <img width="75" src="/static/images/loading.gif" alt="Loading"> Loading data &hellip;
        </p>
        <p class="alert alert-danger error-indicator">
          Error loading data.
        </p>
        <div class="chart-outer-container">
          <div id="chart" class="chart-container"></div>
        </div>
        <div class="options-table-container">
          <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Options (Ml/day)</th>
                  <th scope="col">Water reuse</th>
                  <th scope="col">New reservoir</th>
                  <th scope="col">Desalination</th>
                  <th scope="col">Usage reductions</th>
                  <th scope="col">Leakage reductions</th>
                  <th scope="col">Financial cost</th>
                  <th scope="col">Social contribution</th>
                  <th scope="col">Environmental impact</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">Option 1</th>
                  <td>100</td>
                  <td>-</td>
                  <td>-</td>
                  <td>-</td>
                  <td>-</td>
                  <td class="bg-low">Low</td>
                  <td class="bg-low">Low</td>
                  <td class="bg-low">Low</td>
                </tr>
                <tr>
                  <th scope="row">Option 2</th>
                  <td>46</td>
                  <td>287</td>
                  <td>-</td>
                  <td>-</td>
                  <td>-</td>
                  <td class="bg-med">Medium</td>
                  <td class="bg-low">Low</td>
                  <td class="bg-med">Medium</td>
                </tr>
                <tr>
                  <th scope="row">Option 3</th>
                  <td>100</td>
                  <td>287</td>
                  <td>150</td>
                  <td>-</td>
                  <td>-</td>
                  <td class="bg-high">High</td>
                  <td class="bg-low">Low</td>
                  <td class="bg-high">High</td>
                </tr>
                <tr>
                  <th scope="row">Option 4</th>
                  <td>100</td>
                  <td>-</td>
                  <td>-</td>
                  <td>67</td>
                  <td>-</td>
                  <td class="bg-low">Low</td>
                  <td class="bg-high">High</td>
                  <td class="bg-low">Low</td>
                </tr>
                <tr>
                  <th scope="row">Option 5</th>
                  <td>46</td>
                  <td>-</td>
                  <td>150</td>
                  <td>67</td>
                  <td>53</td>
                  <td class="bg-high">High</td>
                  <td class="bg-high">High</td>
                  <td class="bg-med">Medium</td>
                </tr>
              </tbody>
          </table>
        </div>

        <div class="decisions-table-container">
            <table class="table table-hover table-sm">
              <thead>
                <tr>
                  <th scope="col">River flows</th>
                  <th scope="col">Demand</th>
                  <th scope="col">Option</th>
                  <th scope="col">Expected level 1 restrictions</th>
                  <th scope="col">Expected level 2 restrictions</th>
                  <th scope="col">Expected level 3 restrictions</th>
                  <th scope="col">Expected level 4 restrictions</th>
                  <th scope="col">Meets regulations</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Near future</td>
                  <td>Low</td>
                  <td>No change</td>
                  <td class="bg-med">0.252</td>
                  <td class="bg-med">0.121</td>
                  <td class="bg-low">0.043</td>
                  <td class="bg-low">0.002</td>
                  <td class="bg-med">Close</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>Baseline</td>
                  <td>No change</td>
                  <td class="bg-high">0.463</td>
                  <td class="bg-high">0.294</td>
                  <td class="bg-high">0.160</td>
                  <td class="bg-high">0.027</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>No change</td>
                  <td class="bg-high">0.997</td>
                  <td class="bg-high">0.986</td>
                  <td class="bg-high">0.991</td>
                  <td class="bg-high">0.922</td>
                  <td class="bg-high">No*</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>Option 1</td>
                  <td class="bg-high">0.409</td>
                  <td class="bg-high">0.252</td>
                  <td class="bg-med">0.130</td>
                  <td class="bg-med">0.015</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>Option 2</td>
                  <td class="bg-high">0.312</td>
                  <td class="bg-med">0.170</td>
                  <td class="bg-med">0.074</td>
                  <td class="bg-med">0.005</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>Option 3</td>
                  <td class="bg-med">0.233</td>
                  <td class="bg-med">0.108</td>
                  <td class="bg-low">0.033</td>
                  <td class="bg-low">0.002</td>
                  <td class="bg-med">Close</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>Option 4</td>
                  <td class="bg-high">0.379</td>
                  <td class="bg-high">0.230</td>
                  <td class="bg-med">0.112</td>
                  <td class="bg-med">0.011</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Near future</td>
                  <td>High</td>
                  <td>Option 5</td>
                  <td class="bg-high">0.321</td>
                  <td class="bg-med">0.175</td>
                  <td class="bg-med">0.078</td>
                  <td class="bg-med">0.005</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Far future</td>
                  <td>Low</td>
                  <td>No change</td>
                  <td class="bg-high">0.51</td>
                  <td class="bg-high">0.331</td>
                  <td class="bg-med">0.178</td>
                  <td class="bg-med">0.01</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Far future</td>
                  <td>Baseline</td>
                  <td>No change</td>
                  <td class="bg-high">0.741</td>
                  <td class="bg-high">0.583</td>
                  <td class="bg-high">0.419</td>
                  <td class="bg-high">0.115</td>
                  <td class="bg-high">No</td>
                </tr>
                <tr>
                  <td>Far future</td>
                  <td>High</td>
                  <td>No change</td>
                  <td class="bg-high">0.991</td>
                  <td class="bg-high">0.999</td>
                  <td class="bg-high">0.989</td>
                  <td class="bg-high">0.844</td>
                  <td class="bg-high">No*</td>
                </tr>
              </tbody>
            </table>
        </div>
    </div>
    <div class="pullout">
      <div class="tabs">
        <div class="tabs-inner">

          <a href="#menu" class="menu-tab">
            <span class="navbar-toggler-icon"></span>
            <span>Menu</span>
          </a>
          <a href="#tab-content-system" class="tab active">
            <img src="static/images/icon-system.svg" alt="system" width="16"/>
            <span>System</span>
          </a>
          <a href="#tab-content-flow" class="tab">
            <img src="static/images/icon-flows.svg" alt="flow" width="16"/>
            <span>Flows</span>
          </a>
          <a href="#tab-content-demand" class="tab">
            <img src="static/images/icon-demand.svg" alt="demand" width="16"/>
            <span>Demand</span>
          </a>
          <a href="#tab-content-options" class="tab">
            <img src="static/images/icon-options.svg" alt="options" width="16"/>
            <span>Options</span>
          </a>
          <a href="#tab-content-model" class="tab">
            <img src="static/images/icon-model.svg" alt="model" width="16"/>
            <span>Model</span>
          </a>
          <a href="#tab-content-decision" class="tab">
            <img src="static/images/icon-decision.svg" alt="decision" width="16"/>
            <span>Decisions</span>
          </a>
        </div>
      </div>
      <div class="content">
        <div id="tab-content-system" class="tab-content active">
          <h2 class="h5">Water system</h2>
          <p>What are the important parts of the water system?</p>
          <h3 class="h6">Rivers</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="TH01" data-layers="river_thames" data-zoom="8">River Thames</a></li>
            <li><a href="#" class="map-link" data-location="53LN" data-layers="river_thames thames_basin_rivers" data-zoom="10">River Lee</a></li>
          </ul>
          <h3 class="h6">Areas</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="ca:Thames Corridor" data-layers="river_thames thames_basin_rivers catchment_areas" data-zoom="8">Thames Corridor Catchment Area</a></li>
            <li><a href="#" class="map-link" data-location="wrz:London" data-layers="river_thames thames_basin_rivers water_resource_zones" data-zoom="9">London Water Resource Zone</a></li>
          </ul>
          <h3 class="h6">Sources</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="8" data-zoom="11" data-layers="river_thames reservoir">London Reservoirs</a></li>
            <li><a href="#" class="map-link" data-location="10" data-zoom="11" data-layers="river_thames thames_basin_rivers reservoir">Lee Reservoirs</a></li>
            <li><a href="#" class="map-link" data-location="6" data-zoom="12" data-layers="abstraction">Groundwater abstraction</a></li>
            <li><a href="#" class="map-link" data-location="9" data-zoom="12" data-layers="river_thames reservoir abstraction">Thames-Lee transfer abstraction</a></li>
            <li><a href="#" class="map-link" data-location="9-10" data-zoom="11" data-layers="river_thames reservoir abstraction link">Thames-Lee transfer connection</a></li>
            <li><a href="#" class="map-link" data-location="4" data-zoom="12" data-layers="river_thames desalination">Beckton desalination plant</a></li>
          </ul>
          <h3 class="h6">Treatment</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="1" data-zoom="12" data-layers="reservoir treatment">London Reservoirs Treatment Works</a></li>
            <li><a href="#" class="map-link" data-location="2" data-zoom="12" data-layers="reservoir treatment">Lee Reservoirs Treatment Works</a></li>
          </ul>
          <h3 class="h6">Pumping stations</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="12" data-zoom="14" data-layers="reservoir pumping">Abbey Mills Pumping Station</a></li>
            <li><a href="#" class="map-link" data-location="104" data-zoom="14" data-layers="reservoir pumping">Littleton Pumping Station</a></li>
          </ul>
          <h3 class="h6">Distribution network</h3>
          <ul>
            <li><a href="#" class="map-link" data-location="5" data-zoom="11" data-layers="reservoir abstraction link distribution">London</a></li>
          </ul>
        </div>
        <form id="tab-content-flow" class="tab-content">
          <h2 class="h5">River flows</h2>
          <p>
            Rain falling in the catchment area flows into rivers and eventually into the Thames.
          </p>
          <p>
            How much water flowed into London in the past? How might this change in the future,
            as the climate changes too?
          </p>
          <P>
            The chart shows water arriving in the London water system, near Windsor. This is
            used as an input to the Water Futures model.
          </p>
          <p>
            Water Futures uses 100 different versions ("realisations") of how river flows might
            change in the near and far future. We need to look at lots of versions to make
            reasonable estimates of how the water system will behave.
          </p>
          <h3 class="h6">Pick a scenario</h3>
          <div class="form-group climate-group">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="flow-period-historical" value="historical" checked>
              <label class="form-check-label" for="flow-period-historical">Historical (1970-2010)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="flow-period-near-future" value="near-future">
              <label class="form-check-label" for="flow-period-near-future">Near future (2020-2050)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="flow-period-far-future" value="far-future">
              <label class="form-check-label" for="flow-period-far-future">Far future (2070-2100)</label>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-10">
              <label for="flow-iteration">Climate scenario realisation (1-100):</label>
              <input id="flow-iteration" name="iteration" class="form-control" type="number" step="1" min="1" max="100" value="42" disabled>
            </div>
            <div class="form-group col-2">
              <label>&nbsp;</label>
              <button type="button" class="btn btn-outline-light random-iteration" title="Pick a random number" disabled>
                <img src="static/images/icon-random.svg" alt="Random" width="16"/>
              </button>
            </div>
          </div>
          <div class="form-group">
              <input type="submit" value="Show flow scenario" class="btn btn-primary btn-block show-chart">
            </div>
        </form>
        <div id="tab-content-demand" class="tab-content">
          <h2 class="h5">Demand for water</h2>
          <p>
            How much water might we use in the future?
          </p>
        </div>
        <div id="tab-content-options" class="tab-content">
          <h2 class="h5">Options</h2>
          <p>
            What could we do in response to how the world might change?
          </p>
        </div>
        <form id="tab-content-model" class="tab-content">
          <h2 class="h5">Model</h2>
          <p>
            What can we learn by simulating possible futures using a model?
          </p>
          <h3 class="h6">River flows</h3>
          <div class="form-group climate-group">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="period-historical" value="historical" checked>
              <label class="form-check-label" for="period-historical">Historical (1970-2010)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="period-near-future" value="near-future">
              <label class="form-check-label" for="period-near-future">Near future climate scenario</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="period" id="period-far-future" value="far-future">
              <label class="form-check-label" for="period-far-future">Far future climate scenario</label>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-10">
              <label for="model-iteration">Scenario iteration (1-100):</label>
              <input id="model-iteration" name="iteration" class="form-control" type="number" step="1" min="1" max="100" value="42" disabled>
            </div>
            <div class="form-group col-2">
              <label>&nbsp;</label>
              <button type="button" class="btn btn-outline-light random-iteration" disabled>
                <img src="static/images/icon-random.svg" alt="Random" width="16" />
              </button>
            </div>
          </div>

          <h3 class="h6">Demand for water</h3>
          <label for="action">
            <small>(Available only if a future river flows scenario is selected.)</small>
          </label>
          <div class="form-group">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="demand" id="demand-2063" value="2063">
              <label class="form-check-label" for="demand-2063">Low</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="demand" id="demand-2547" value="2547" checked>
              <label class="form-check-label" for="demand-2547">Baseline</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="demand" id="demand-2935" value="2935">
              <label class="form-check-label" for="demand-2935">High</label>
            </div>
          </div>

          <h3 class="h6">Options</h3>
          <div class="form-group">
            <label for="action">
              <small>(Available only if 'Near future' river flows and
              'High' demand are both selected.)</small>
            </label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-none" value="none" checked>
              <label class="form-check-label" for="action-none">No change</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-1" value="1">
              <label class="form-check-label" for="action-1">Option 1</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-2" value="2">
              <label class="form-check-label" for="action-2">Option 2</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-3" value="3">
              <label class="form-check-label" for="action-3">Option 3</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-4" value="4">
              <label class="form-check-label" for="action-4">Option 4</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="action" id="action-5" value="5">
              <label class="form-check-label" for="action-5">Option 5</label>
            </div>
          </div>
          <div class="form-group">
            <input type="submit" value="Run model" class="btn btn-primary btn-block show-chart">
          </div>
        </form>
        <div id="tab-content-decision" class="tab-content">
          <h2 class="h5">Decisions</h2>
          <p>What should we do?</p>
          <p>After running the model hundreds of times, we can compare the various scenarios and options</p>
          <h3 class="h6">Notes</h3>
          <p>Level 1 restrictions should occur less than once every 5 years. (&lt;0.2 per year).</p>
          <p>Level 2 restrictions should occur less than once every 10 years. (&lt;0.1 per year).</p>
          <p>Level 3 restrictions should occur less than once every 20 years. (&lt;0.05 per year).</p>
          <p>Level 4 restrictions should never occur. (1 in 500 years would be &lt;0.002 per year).</p>
        </div>
      </div>
    </div>
  </main>
  <script src="./static/js/promise.min.js"></script>
  <script src="./static/js/symbol.min.js"></script>
  <script src="./static/js/fetch.min.js"></script>
  <script src="./static/js/underscore.min.js"></script>
  <script src="./static/js/turf.min.js"></script>
  <script src="./static/js/d3.min.js"></script>
  <script src="./static/js/vega-core.min.js"></script>
  <script src="./static/js/vega-lite.min.js"></script>
  <script src="./static/js/vega-embed.min.js"></script>
  <script src="./static/js/leaflet.js"></script>
  <script src="./static/js/main.js"></script>
</body>
</html>
